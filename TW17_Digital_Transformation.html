<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TW17 Digital Transformation | T-Level Management & Administration</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { margin: 0; padding: 0; overflow: hidden; }
    .slide-container { height: 100vh; }
  </style>
</head>
<body>
  <div id="root"></div>
  
  <script type="text/babel">
    const { useState, useEffect, Fragment } = React;

    // Storage helper
    const STORAGE_KEY = 'tw17_digital_transformation_progress';
    const saveProgress = (data) => {
      try { localStorage.setItem(STORAGE_KEY, JSON.stringify(data)); } catch(e) {}
    };
    const loadProgress = () => {
      try { return JSON.parse(localStorage.getItem(STORAGE_KEY)) || {}; } catch(e) { return {}; }
    };

    const slides = [
      // SLIDE 1: Title
      {
        type: 'title',
        element: null,
        content: {
          subtitle: 'Teaching Week 17',
          title: 'Digital Transformation',
          tagline: 'Technology Integration for Modern Business',
          meta: 'T-Level Management & Administration | Nottingham College',
          date: 'Week Beginning: 02.02.26',
          elements: '1.9 ‚Ä¢ 3.3 ‚Ä¢ 6.2 ‚Ä¢ 6.3 ‚Ä¢ 6.4 ‚Ä¢ 7.4'
        }
      },
      // SLIDE 2: Learning Objectives
      {
        type: 'objectives',
        element: { code: 'Overview', title: 'Learning Objectives' },
        title: 'üéØ What You Will Learn',
        items: [
          { icon: 'üíª', text: 'Understand current & emerging digital technologies', element: '1.9' },
          { icon: '‚ö†Ô∏è', text: 'Assess risks and create mitigation strategies', element: '3.3' },
          { icon: 'üìä', text: 'Apply change management models (Kotter, ADKAR, Lewin)', element: '6.2-6.4' },
          { icon: 'üß©', text: 'Develop problem-solving approaches', element: '7.4' }
        ]
      },
      // SLIDE 3: What is Digital Transformation
      {
        type: 'definition',
        element: { code: '1.9', title: 'Digital Technologies' },
        title: 'üîÑ What is Digital Transformation?',
        definition: 'The integration of digital technology into ALL areas of a business, fundamentally changing how it operates and delivers value to customers.',
        examples: [
          { company: 'Gymshark', change: 'Started as bedroom business ‚Üí ¬£500m brand built entirely on social media & influencers' },
          { company: 'Monzo', change: 'No physical branches - 100% app-based banking with instant notifications' },
          { company: 'SHEIN', change: 'AI predicts trends, new designs go from sketch to site in 3 days' }
        ]
      },
      // SLIDE 3b: Netflix Case Study instead of unreliable video
      {
        type: 'casestudy',
        element: { code: '1.9', title: 'Digital Technologies' },
        title: 'üì∫ Case Study: Netflix - The Ultimate Transformation',
        timeline: [
          { year: '1997', event: 'Started as DVD-by-mail rental service' },
          { year: '2007', event: 'Launched streaming - customers could watch instantly' },
          { year: '2013', event: 'Started creating original content (House of Cards)' },
          { year: '2016', event: 'Went global - available in 190 countries' },
          { year: '2024', event: '280+ million subscribers, AI-powered recommendations' }
        ],
        results: ['Blockbuster (competitor) went bankrupt in 2010', 'Now worth ¬£200+ billion', 'Changed how we all watch TV']
      },
      // SLIDE 4: Tech Quiz
      {
        type: 'quiz',
        element: { code: '1.9', title: 'Digital Technologies' },
        title: 'üß† Quick Check: Match the Technology',
        question: 'Which technology allows businesses to store data on remote servers accessed via the internet?',
        options: ['Artificial Intelligence', 'Cloud Computing', 'Blockchain', 'IoT'],
        correct: 1,
        explanation: 'Cloud Computing enables businesses like Netflix and Spotify to store and deliver content without physical servers on-site.'
      },
      // SLIDE 5: Current Technologies
      {
        type: 'techgrid',
        element: { code: '1.9', title: 'Digital Technologies' },
        title: 'üí° Current & Emerging Technologies',
        technologies: [
          { name: 'Cloud Computing', icon: '‚òÅÔ∏è', desc: 'Store & access data anywhere', example: 'Spotify streams 100M+ songs without downloads' },
          { name: 'AI & Machine Learning', icon: 'ü§ñ', desc: 'Automate decisions & predictions', example: "TikTok's For You page, Netflix recommendations" },
          { name: 'Big Data', icon: 'üìä', desc: 'Analyse massive datasets', example: 'Spotify Wrapped analyses your year' },
          { name: 'IoT', icon: 'üì±', desc: 'Connected smart devices', example: 'Amazon Go stores, Apple AirTags' },
          { name: '5G Networks', icon: 'üì°', desc: 'Ultra-fast connectivity', example: 'Cloud gaming on Xbox/PS5, live 4K streaming' },
          { name: 'AR/VR', icon: 'ü•Ω', desc: 'Immersive experiences', example: 'Snapchat filters, Apple Vision Pro' }
        ]
      },
      // SLIDE 5b: Tech Quiz
      {
        type: 'quiz',
        element: { code: '1.9', title: 'Digital Technologies' },
        title: 'üß† Quick Check: Technology Application',
        question: 'Spotify creates your personalised "Wrapped" summary showing your top artists and listening habits. Which TWO technologies does this primarily use?',
        options: ['IoT and 5G', 'Big Data and AI', 'AR/VR and Cloud', 'Blockchain and IoT'],
        correct: 1,
        explanation: 'Big Data collects your listening history all year, while AI/Machine Learning analyses patterns to identify your top songs, artists, and listening personality.'
      },
      // SLIDE 6: Impact Areas
      {
        type: 'impacts',
        element: { code: '1.9', title: 'Digital Technologies' },
        title: 'üìà Four Key Impact Areas',
        areas: [
          { title: 'Cost', icon: 'üí∞', positive: 'Reduced manual work, lower errors', negative: 'High initial investment', color: '#10b981' },
          { title: 'Training', icon: 'üìö', positive: 'New skills, career growth', negative: 'Time away from work', color: '#3b82f6' },
          { title: 'Processes', icon: '‚öôÔ∏è', positive: 'Faster, more efficient', negative: 'Change resistance', color: '#8b5cf6' },
          { title: 'Effectiveness', icon: 'üéØ', positive: 'Better customer experience', negative: 'Tech dependency risks', color: '#f59e0b' }
        ]
      },
      // SLIDE 6b: Impacts Quiz
      {
        type: 'quiz',
        element: { code: '1.9', title: 'Digital Technologies' },
        title: 'üß† Quick Check: Impacts',
        question: 'A business implements AI chatbots. Customers get instant 24/7 responses. Which impact area is this PRIMARILY improving?',
        options: ['Cost', 'Training', 'Processes', 'Operational Effectiveness'],
        correct: 3,
        explanation: 'Operational Effectiveness is about improving how well the business serves customers. 24/7 instant responses = better customer experience!'
      },
      // ACTIVITY 1: Technology Impact Analysis
      {
        type: 'activity',
        element: { code: '1.9', title: 'Digital Technologies' },
        activityId: 'activity1',
        title: 'üìù Activity 1: Technology Impact Analysis',
        time: '45 mins',
        instructions: 'Choose ONE business and analyse THREE technologies they use. Consider the impact on costs, training, processes, and effectiveness.',
        businesses: ['Gymshark', 'Netflix', 'Monzo', 'ASOS', 'Deliveroo'],
        fields: [
          { id: 'business', label: 'Business chosen', type: 'text' },
          { id: 'tech1_name', label: 'Technology 1 - Name', type: 'text' },
          { id: 'tech1_impact', label: 'Technology 1 - Impact Analysis', type: 'textarea', placeholder: 'Describe impact on costs, training, processes, effectiveness...' },
          { id: 'tech2_name', label: 'Technology 2 - Name', type: 'text' },
          { id: 'tech2_impact', label: 'Technology 2 - Impact Analysis', type: 'textarea', placeholder: 'Describe impact on costs, training, processes, effectiveness...' },
          { id: 'tech3_name', label: 'Technology 3 - Name', type: 'text' },
          { id: 'tech3_impact', label: 'Technology 3 - Impact Analysis', type: 'textarea', placeholder: 'Describe impact on costs, training, processes, effectiveness...' },
          { id: 'evaluation', label: 'Overall Evaluation - Which technology has the biggest impact and why?', type: 'textarea' }
        ]
      },
      // SLIDE 7: Security
      {
        type: 'security',
        element: { code: '1.9', title: 'Digital Technologies' },
        title: 'üîí Security Considerations',
        threats: [
          { name: 'Phishing', desc: 'Fake emails tricking staff into revealing passwords', icon: 'üé£' },
          { name: 'Ransomware', desc: 'Malware that locks files until payment', icon: 'üíÄ' },
          { name: 'Data Breaches', desc: 'Unauthorised access to customer information', icon: 'üö®' },
          { name: 'Insider Threats', desc: 'Employees misusing access privileges', icon: 'üë§' }
        ],
        measures: ['Multi-factor authentication', 'Regular staff training', 'Data encryption', 'Access controls']
      },
      // SLIDE 7b: Security Quiz
      {
        type: 'quiz',
        element: { code: '1.9', title: 'Digital Technologies' },
        title: 'üß† Quick Check: Security',
        question: 'An employee receives an email claiming to be from IT, asking them to click a link and enter their password. What type of threat is this?',
        options: ['Ransomware', 'Phishing', 'Data Breach', 'Insider Threat'],
        correct: 1,
        explanation: 'Phishing uses fake emails or messages to trick people into revealing sensitive information. Always verify suspicious requests!'
      },
      // SLIDE 8: Change Management Section
      {
        type: 'section',
        element: { code: '6.2', title: 'Change Management' },
        title: 'Change Management',
        subtitle: 'How organisations successfully implement transformation',
        intro: 'Now that we understand WHAT digital transformation involves, we need to learn HOW to make it happen. This section covers three key models that help organisations manage change effectively.',
        icon: 'üîÑ',
        stats: [
          { number: '70%', label: 'of change initiatives fail' },
          { number: '#1', label: 'reason: poor change management' }
        ]
      },
      // SLIDE 9: Kotter's 8 Steps
      {
        type: 'kotter',
        element: { code: '6.2', title: 'Change Management' },
        title: "üìã Kotter's 8-Step Model",
        steps: [
          { num: 1, name: 'Create Urgency', desc: 'Show why change is needed NOW' },
          { num: 2, name: 'Build Coalition', desc: 'Get influential people on board' },
          { num: 3, name: 'Form Vision', desc: 'Clear picture of the future' },
          { num: 4, name: 'Communicate', desc: 'Share the vision constantly' },
          { num: 5, name: 'Remove Obstacles', desc: 'Clear barriers to change' },
          { num: 6, name: 'Quick Wins', desc: 'Celebrate early successes' },
          { num: 7, name: 'Build Momentum', desc: 'Keep pushing forward' },
          { num: 8, name: 'Anchor Change', desc: 'Make it part of culture' }
        ]
      },
      // SLIDE 10: ADKAR
      {
        type: 'adkar',
        element: { code: '6.2', title: 'Change Management' },
        title: 'üéØ ADKAR Model',
        subtitle: 'Focus on the INDIVIDUAL in change',
        elements: [
          { letter: 'A', word: 'Awareness', desc: 'Why is change needed?', color: '#ef4444' },
          { letter: 'D', word: 'Desire', desc: 'Do I want to participate?', color: '#f97316' },
          { letter: 'K', word: 'Knowledge', desc: 'How do I change?', color: '#eab308' },
          { letter: 'A', word: 'Ability', desc: 'Can I do it?', color: '#22c55e' },
          { letter: 'R', word: 'Reinforcement', desc: 'How do we sustain it?', color: '#3b82f6' }
        ]
      },
      // SLIDE 11: Lewin's Model
      {
        type: 'lewin',
        element: { code: '6.2', title: 'Change Management' },
        title: "üßä Lewin's 3-Stage Model",
        stages: [
          { name: 'Unfreeze', icon: 'üßä', desc: 'Prepare for change - challenge current state, create motivation', color: '#3b82f6' },
          { name: 'Change', icon: 'üîÑ', desc: 'Implement the transition - new processes, behaviours, systems', color: '#8b5cf6' },
          { name: 'Refreeze', icon: '‚ùÑÔ∏è', desc: 'Solidify the new state - reinforce, reward, embed in culture', color: '#06b6d4' }
        ]
      },
      // SLIDE 11b: Change Models Comparison instead of unreliable video
      {
        type: 'quiz',
        element: { code: '6.2', title: 'Change Management' },
        title: 'üß† Compare the Models',
        question: "You've now learned 3 change management models. Which would you use?\n\nScenario: A hospital is introducing a new patient record system. Some nurses are worried they won't understand it.",
        options: ["Kotter's 8 Steps - organisation-wide plan", 'ADKAR - focus on individual nurse readiness', "Lewin's 3-Stage - simple unfreeze-change-refreeze", 'All three could work together'],
        correct: 3,
        explanation: "All three! Use Kotter for the hospital-wide rollout plan, ADKAR to support individual nurses through the change, and Lewin's simple model to explain the journey. Real projects often combine approaches."
      },
      // Change Management Quizzes
      {
        type: 'quiz',
        element: { code: '6.2', title: 'Change Management' },
        title: 'üß† Which Model?',
        question: 'A manager wants to focus on individual employee readiness for a new CRM system. Which model should they use?',
        options: ["Kotter's 8-Step", 'ADKAR', "Lewin's 3-Stage", 'Force Field Analysis'],
        correct: 1,
        explanation: 'ADKAR focuses on individual change readiness - perfect for ensuring each employee is prepared for new systems.'
      },
      {
        type: 'quiz',
        element: { code: '6.2', title: 'Change Management' },
        title: "üß† Quick Check: Kotter's 8 Steps",
        question: "In Kotter's model, what should happen BEFORE communicating the vision?",
        options: ['Remove obstacles', 'Create quick wins', 'Build a guiding coalition', 'Anchor the change'],
        correct: 2,
        explanation: 'Steps 2 & 3 come before Step 4 (Communicate). You need the right team and clear vision BEFORE you can effectively communicate it!'
      },
      {
        type: 'quiz',
        element: { code: '6.2', title: 'Change Management' },
        title: "üß† Quick Check: Lewin's Model",
        question: 'A company has successfully implemented new software. Staff are now using it daily. Which stage are they in?',
        options: ['Unfreeze', 'Change', 'Refreeze', 'None - the process is complete'],
        correct: 2,
        explanation: 'Refreeze is about solidifying the new state - making it "the new normal". The change needs reinforcing to stick!'
      },
      // ACTIVITY 2: Change Management Plan
      {
        type: 'activity',
        element: { code: '6.2', title: 'Change Management' },
        activityId: 'activity2',
        title: 'üìù Activity 2: Change Management Plan',
        time: '30 mins',
        instructions: 'Scenario: Gymshark is implementing an AI-powered personal training feature in their app. Create a change management plan.',
        fields: [
          { id: 'model_choice', label: 'Which change model would you recommend and why?', type: 'textarea', placeholder: 'Choose Kotter, ADKAR, or Lewin and justify...' },
          { id: 'key_steps', label: 'List 5 key actions you would take', type: 'textarea', placeholder: '1.\n2.\n3.\n4.\n5.' },
          { id: 'stakeholders', label: 'Who are the key stakeholders and how would you engage them?', type: 'textarea' },
          { id: 'resistance', label: 'What resistance might you face and how would you overcome it?', type: 'textarea' }
        ]
      },
      // SLIDE: Risk Management Section
      {
        type: 'section',
        element: { code: '3.3', title: 'Risk Management' },
        title: 'Risk Management',
        subtitle: 'Identifying and mitigating potential problems',
        intro: 'Digital transformation comes with risks. Before implementing change, organisations must identify what could go wrong and plan how to handle it. This section teaches you risk assessment and stakeholder analysis.',
        icon: '‚ö†Ô∏è',
        stats: [
          { number: '45%', label: 'of IT projects go over budget' },
          { number: '17%', label: 'fail completely' }
        ]
      },
      // Risk Matrix
      {
        type: 'riskmatrix',
        element: { code: '3.3', title: 'Risk Management' },
        title: 'üìä Risk Assessment Matrix',
        risks: [
          { name: 'Data breach', likelihood: 3, impact: 5 },
          { name: 'Staff resistance', likelihood: 4, impact: 3 },
          { name: 'Budget overrun', likelihood: 3, impact: 4 },
          { name: 'System downtime', likelihood: 2, impact: 5 }
        ]
      },
      {
        type: 'quiz',
        element: { code: '3.3', title: 'Risk Management' },
        title: 'üß† Quick Check: Risk Assessment',
        question: 'A risk has likelihood 4 and impact 5. What is the risk score and rating?',
        options: ['Score 9 - Medium', 'Score 20 - Critical', 'Score 45 - Critical', 'Score 20 - High'],
        correct: 1,
        explanation: 'Risk Score = Likelihood √ó Impact = 4 √ó 5 = 20. Scores 15-25 are rated Critical (red) and need immediate attention!'
      },
      // Stakeholders
      {
        type: 'stakeholders',
        element: { code: '3.3', title: 'Risk Management' },
        title: 'üë• Stakeholder Analysis',
        groups: [
          { name: 'Employees', interest: 'Job security, training', influence: 'Medium', strategy: 'Involve early, provide support' },
          { name: 'Customers', interest: 'Better service, convenience', influence: 'High', strategy: 'Communicate benefits clearly' },
          { name: 'Management', interest: 'ROI, efficiency', influence: 'High', strategy: 'Regular progress updates' },
          { name: 'Suppliers', interest: 'Integration, orders', influence: 'Low', strategy: 'Keep informed of changes' }
        ]
      },
      // Force Field
      {
        type: 'forcefield',
        element: { code: '3.3', title: 'Risk Management' },
        title: '‚ö° Force Field Analysis',
        scenario: 'Gymshark launching AI-powered personal training app',
        driving: ['Customer demand for personalisation', 'Competitor apps (Nike, Adidas)', 'Recurring revenue model', 'Brand extension opportunity'],
        restraining: ['Development costs', 'Need fitness expertise', 'App store competition', 'Data privacy concerns']
      },
      {
        type: 'quiz',
        element: { code: '3.3', title: 'Risk Management' },
        title: 'üß† Quick Check: Stakeholders',
        question: 'Which stakeholder group typically has HIGH influence but may have NEGATIVE interest in digital transformation?',
        options: ['Customers', 'Long-serving employees', 'Shareholders', 'Suppliers'],
        correct: 1,
        explanation: 'Long-serving employees often have influence through experience but may resist change that threatens their established ways of working.'
      },
      // ACTIVITY 3: Risk Register
      {
        type: 'activity',
        element: { code: '3.3', title: 'Risk Management' },
        activityId: 'activity3',
        title: 'üìù Activity 3: Risk Register',
        time: '30 mins',
        instructions: 'Create a risk register for a business launching a new e-commerce website. Identify 4 risks and plan mitigations.',
        fields: [
          { id: 'risk1', label: 'Risk 1 - Description, Likelihood (1-5), Impact (1-5), Mitigation', type: 'textarea', placeholder: 'Risk:\nLikelihood:\nImpact:\nMitigation:' },
          { id: 'risk2', label: 'Risk 2 - Description, Likelihood (1-5), Impact (1-5), Mitigation', type: 'textarea', placeholder: 'Risk:\nLikelihood:\nImpact:\nMitigation:' },
          { id: 'risk3', label: 'Risk 3 - Description, Likelihood (1-5), Impact (1-5), Mitigation', type: 'textarea', placeholder: 'Risk:\nLikelihood:\nImpact:\nMitigation:' },
          { id: 'risk4', label: 'Risk 4 - Description, Likelihood (1-5), Impact (1-5), Mitigation', type: 'textarea', placeholder: 'Risk:\nLikelihood:\nImpact:\nMitigation:' },
          { id: 'priority', label: 'Which risk would you prioritise and why?', type: 'textarea' }
        ]
      },
      // Problem Solving Section
      {
        type: 'section',
        element: { code: '7.4', title: 'Problem-Solving' },
        title: 'Problem-Solving',
        subtitle: 'Approaches for tackling business challenges',
        intro: 'When digital transformation faces obstacles, you need systematic ways to solve problems. This section covers practical techniques you\'ll use in your ESP and future career.',
        icon: 'üß©',
        stats: [
          { number: '85%', label: 'of problems have root causes different from symptoms' },
          { number: '5', label: 'Whys to find the real cause' }
        ]
      },
      {
        type: 'problemsolving',
        element: { code: '7.4', title: 'Problem-Solving' },
        title: 'üß© Problem-Solving Approaches',
        approaches: [
          { name: 'Root Cause Analysis', desc: 'Find the real cause, not symptoms', tool: '5 Whys technique' },
          { name: 'PDCA Cycle', desc: 'Plan ‚Üí Do ‚Üí Check ‚Üí Act', tool: 'Continuous improvement' },
          { name: 'Brainstorming', desc: 'Generate creative solutions', tool: 'No idea is bad initially' },
          { name: 'Decision Matrix', desc: 'Compare options objectively', tool: 'Weighted scoring' }
        ]
      },
      {
        type: 'quiz',
        element: { code: '7.4', title: 'Problem-Solving' },
        title: 'üß† Quick Check: Problem Solving',
        question: "Customer complaints about slow delivery keep increasing. A manager keeps hiring more drivers but it doesn't help. What technique should they use?",
        options: ['Brainstorming', 'Decision Matrix', 'Root Cause Analysis (5 Whys)', 'PDCA Cycle'],
        correct: 2,
        explanation: "Root Cause Analysis! Asking \"Why?\" repeatedly might reveal the real problem isn't driver numbers - maybe it's route planning, warehouse delays, or order processing."
      },
      // Case Study
      {
        type: 'casestudy',
        element: { code: '1.9', title: 'Digital Technologies' },
        title: 'üí™ Case Study: Gymshark Digital Transformation',
        timeline: [
          { year: '2012', event: "Started selling from parents' garage" },
          { year: '2016', event: 'Crashed website on Black Friday - rebuilt entire tech stack' },
          { year: '2018', event: 'Influencer-first marketing strategy (66M+ social followers)' },
          { year: '2021', event: 'Valued at ¬£1.3 billion - "unicorn" status' },
          { year: '2024', event: 'AI size recommendations, personalised shopping experience' }
        ],
        results: ['¬£500m+ annual revenue', '10M+ customers globally', '180+ countries shipped to']
      },
      {
        type: 'video',
        element: { code: '1.9', title: 'Digital Technologies' },
        title: 'üé¨ Watch: The Gymshark Story (15 mins)',
        videoId: 'VR6nndsu374',
        description: 'Search YouTube for "Ben Francis Gymshark Story" if this link doesn\'t work. Watch for 15 minutes, focusing on:',
        timestamps: [
          'üè† How did Ben start the business from his bedroom?',
          'üì± What role did social media play in early growth?',
          'üí• How did they handle the Black Friday website crash?',
          'üöÄ What digital technologies helped them compete with Nike?'
        ],
        discussion: "Write ONE key lesson from Ben's journey in Activity 2 below. How did digital technology enable a teenager to build a billion-pound brand?"
      },
      // AI Section
      {
        type: 'ai',
        element: { code: '1.9', title: 'Digital Technologies' },
        title: 'ü§ñ Using AI Critically',
        points: [
          { title: 'AI Strengths', items: ['Fast research', 'Idea generation', 'Summarising info', 'First drafts'], color: '#10b981' },
          { title: 'AI Limitations', items: ['Can hallucinate facts', 'May be outdated', 'Lacks context', 'No real understanding'], color: '#ef4444' },
          { title: 'Best Practice', items: ['Always verify facts', 'Compare multiple sources', 'Add your own analysis', 'Cite appropriately'], color: '#3b82f6' }
        ]
      },
      {
        type: 'quiz',
        element: { code: '1.9', title: 'Digital Technologies' },
        title: 'üß† Quick Check: AI Critical Thinking',
        question: 'An AI tool confidently states that "Gymshark was founded in 2015 and is based in London." What should you do?',
        options: ['Trust it - AI is always accurate', 'Use it directly in your assignment', 'Verify the facts with official sources', 'Ignore AI completely'],
        correct: 2,
        explanation: 'Always verify! Gymshark was actually founded in 2012 and is based in Solihull, Birmingham. AI can "hallucinate" convincing but wrong information.'
      },
      {
        type: 'techgrid',
        element: { code: '1.9', title: 'Digital Technologies' },
        title: 'ü§ñ AI in Business Today - Real Examples',
        technologies: [
          { name: 'Chatbots', icon: 'üí¨', desc: 'Answer customer questions 24/7', example: 'Banks, NHS 111, online shopping' },
          { name: 'Recommendations', icon: 'üéØ', desc: 'Suggest what you might like', example: 'Netflix, Spotify, Amazon "you might like"' },
          { name: 'Fraud Detection', icon: 'üîí', desc: 'Spot unusual transactions', example: 'Banks blocking suspicious card use' },
          { name: 'Voice Assistants', icon: 'üó£Ô∏è', desc: 'Understand and respond to speech', example: 'Siri, Alexa, Google Assistant' },
          { name: 'Content Creation', icon: '‚úçÔ∏è', desc: 'Generate text, images, code', example: 'ChatGPT, Claude, Midjourney' },
          { name: 'Predictive Analytics', icon: 'üìà', desc: 'Forecast future trends', example: 'Weather apps, stock predictions' }
        ]
      },
      // ACTIVITY 4: AI Evaluation
      {
        type: 'activity',
        element: { code: '1.9', title: 'Digital Technologies' },
        activityId: 'activity4',
        title: 'üìù Activity 4: AI Critical Evaluation Challenge',
        time: '45 mins',
        instructions: 'Use the SAME prompt on THREE different AI platforms (ChatGPT, Claude, Microsoft Copilot, Google Gemini), then compare and evaluate the outputs.\n\nYour Prompt: "Write a 200-word analysis of how Gymshark has used digital transformation to grow their business. Include specific examples of technologies they use."',
        fields: [
          { id: 'platform1', label: 'Platform 1 Name', type: 'text' },
          { id: 'platform1_score', label: 'Platform 1 - Accuracy, Relevance, Depth, Usefulness (each /5)', type: 'text', placeholder: 'e.g., 4, 3, 4, 5' },
          { id: 'platform1_notes', label: 'Platform 1 - Key observations', type: 'textarea' },
          { id: 'platform2', label: 'Platform 2 Name', type: 'text' },
          { id: 'platform2_score', label: 'Platform 2 - Accuracy, Relevance, Depth, Usefulness (each /5)', type: 'text', placeholder: 'e.g., 4, 3, 4, 5' },
          { id: 'platform2_notes', label: 'Platform 2 - Key observations', type: 'textarea' },
          { id: 'platform3', label: 'Platform 3 Name', type: 'text' },
          { id: 'platform3_score', label: 'Platform 3 - Accuracy, Relevance, Depth, Usefulness (each /5)', type: 'text', placeholder: 'e.g., 4, 3, 4, 5' },
          { id: 'platform3_notes', label: 'Platform 3 - Key observations', type: 'textarea' },
          { id: 'best_platform', label: 'Which platform performed best and why?', type: 'textarea' },
          { id: 'hallucinations', label: 'Did any AI hallucinate (make up facts)? Give examples', type: 'textarea' }
        ]
      },
      // ACTIVITY 5: Digital Business Card
      {
        type: 'activity',
        element: { code: '1.9', title: 'Digital Technologies' },
        activityId: 'activity5',
        title: 'üìù Activity 5: Create Your Digital Business Card',
        time: '30 mins',
        instructions: 'Create a professional digital business card using free tools like Canva, HiHello, or Blinq.\n\n‚úì More eco-friendly than paper\n‚úì Easy to update contact details\n‚úì Can include links to portfolios, LinkedIn\n‚úì QR codes make sharing instant',
        fields: [
          { id: 'name_title', label: 'Your name and professional title/tagline', type: 'text' },
          { id: 'contact_info', label: 'Contact information to include', type: 'textarea', placeholder: 'Email, phone, LinkedIn URL...' },
          { id: 'design_choices', label: 'Describe your design choices (colours, style, why?)', type: 'textarea' },
          { id: 'tool_used', label: 'Which tool did you use?', type: 'text' },
          { id: 'submitted', label: 'Have you submitted your digital card to Teams? (Yes/No)', type: 'text' }
        ]
      },
      // Exam Tips
      {
        type: 'examtips',
        element: { code: 'Exam', title: 'Exam Preparation' },
        title: 'üìù Exam Success Tips',
        tips: [
          { command: 'Explain', meaning: 'Give reasons WHY', marks: '4-6' },
          { command: 'Analyse', meaning: 'Break down and examine relationships', marks: '6-8' },
          { command: 'Evaluate', meaning: 'Make judgements with evidence', marks: '8-12' },
          { command: 'Justify', meaning: 'Give reasons to support a decision', marks: '6-8' }
        ],
        reminder: 'Always use PEEL: Point ‚Üí Evidence ‚Üí Explain ‚Üí Link'
      },
      {
        type: 'quiz',
        element: { code: 'Exam', title: 'Exam Preparation' },
        title: 'üß† Quick Check: Command Words',
        question: '"Evaluate the impact of cloud computing on small businesses." What does this question require?',
        options: ['Just describe what cloud computing is', 'List some impacts', 'Make judgements about positive AND negative impacts with evidence', 'Explain one advantage'],
        correct: 2,
        explanation: 'Evaluate = make judgements! You need to weigh up pros and cons, consider different perspectives, and reach a supported conclusion.'
      },
      {
        type: 'quiz',
        element: { code: 'Overview', title: 'Final Check' },
        title: 'üèÜ Final Knowledge Check',
        question: 'Which combination correctly matches model to focus?\n1. Kotter = Steps for organisation\n2. ADKAR = Individual readiness\n3. Lewin = Simple 3-stage process',
        options: ['Only 1 is correct', 'Only 2 is correct', '1 and 2 are correct', 'All three are correct'],
        correct: 3,
        explanation: 'All three are correct! Kotter provides 8 organisational steps, ADKAR focuses on individuals, and Lewin offers a simple Unfreeze-Change-Refreeze model.'
      },
      // CHALLENGE ACTIVITY
      {
        type: 'challenge',
        element: { code: 'ESP', title: 'Extended Learning' },
        activityId: 'challenge',
        title: 'üèÜ Challenge: Local Business Digital Transformation Report',
        time: '90 mins',
        instructions: 'Choose a REAL local business (shop, caf√©, salon, gym) and write a 500-800 word report analysing their digital transformation opportunities. This mirrors the ESP format.',
        fields: [
          { id: 'business_overview', label: '1. Business Overview (100 words) - What do they do? Who are their customers?', type: 'textarea' },
          { id: 'current_digital', label: '2. Current Digital Presence (150 words) - Website? Social media? Online ordering? Rate maturity 1-5', type: 'textarea' },
          { id: 'recommendations', label: '3. Recommendations (250 words) - 3-4 specific digital improvements with justification', type: 'textarea' },
          { id: 'implementation', label: '4. Implementation (150 words) - Costs, training, risks, timeline. Which change model?', type: 'textarea' },
          { id: 'conclusion', label: '5. Conclusion (50 words)', type: 'textarea' }
        ],
        criteria: {
          pass: 'Identifies business, suggests 2+ improvements',
          merit: '+ Justified with specific technologies, considers challenges',
          distinction: '+ Links change theory, evaluates risks, professional presentation'
        }
      },
      // Summary
      {
        type: 'summary',
        element: { code: 'Overview', title: 'Key Takeaways' },
        title: '‚úÖ Key Takeaways',
        points: [
          'Digital transformation changes HOW businesses operate, not just WHAT tools they use',
          'Change management models help people adapt (Kotter = steps, ADKAR = individual, Lewin = stages)',
          'Risk assessment uses likelihood √ó impact to prioritise threats',
          'Stakeholders have different interests - manage them accordingly',
          'AI is a tool to enhance your work, not replace your thinking'
        ]
      },
      // Completion
      {
        type: 'completion',
        element: null,
        title: 'üéâ Well Done!',
        message: "You've completed the Digital Transformation learning module"
      }
    ];

    // Element Badge Component
    const ElementBadge = ({ element }) => {
      if (!element) return null;
      return (
        <div className="absolute top-3 right-3 bg-white/90 backdrop-blur px-3 py-1 rounded-full shadow-sm border border-slate-200">
          <span className="text-xs font-medium text-teal-700">{element.code}</span>
          <span className="text-xs text-slate-400 ml-1">‚Ä¢ {element.title}</span>
        </div>
      );
    };

    // LIGHT THEME SLIDE COMPONENTS
    const TitleSlide = ({ content }) => (
      <div className="h-full flex flex-col items-center justify-center text-center p-8 relative" style={{background: 'linear-gradient(135deg, #12b9a5 0%, #092644 100%)'}}>
        <p className="text-white/80 tracking-widest text-sm mb-4 uppercase">{content.subtitle}</p>
        <h1 className="text-5xl font-bold text-white mb-4">{content.title}</h1>
        <p className="text-xl text-white/90 mb-6">{content.tagline}</p>
        <div className="w-20 h-1 bg-white/50 mb-6"></div>
        <p className="text-white/80 text-sm">{content.meta}</p>
        <p className="text-white/60 text-xs mt-2">{content.date}</p>
        <div className="absolute bottom-4 bg-white/20 px-4 py-2 rounded-full">
          <span className="text-white/90 text-xs">Elements: {content.elements}</span>
        </div>
      </div>
    );

    const ObjectivesSlide = ({ title, items, element }) => (
      <div className="h-full p-8 bg-slate-50 relative">
        <ElementBadge element={element} />
        <h2 className="text-3xl font-bold text-slate-800 mb-6">{title}</h2>
        <div className="grid grid-cols-2 gap-5">
          {items.map((item, i) => (
            <div key={i} className="bg-white rounded-xl p-5 flex items-start gap-4 shadow-sm border border-slate-100 hover:shadow-md transition-all">
              <span className="text-4xl">{item.icon}</span>
              <div>
                <p className="text-slate-700 font-medium text-lg">{item.text}</p>
                <span className="text-sm font-medium" style={{color: '#12b9a5'}}>Element {item.element}</span>
              </div>
            </div>
          ))}
        </div>
      </div>
    );

    const DefinitionSlide = ({ title, definition, examples, element }) => {
      const companyLogos = {
        'Gymshark': 'üí™',
        'Monzo': 'üü†',
        'SHEIN': 'üõçÔ∏è',
        'Netflix': 'üé¨',
        'Spotify': 'üéµ',
        'Amazon': 'üì¶'
      };
      return (
        <div className="h-full p-8 bg-white relative">
          <ElementBadge element={element} />
          <h2 className="text-3xl font-bold mb-4" style={{color: '#12b9a5'}}>{title}</h2>
          <div className="border-l-4 p-5 rounded-r-lg mb-5" style={{backgroundColor: '#12b9a520', borderColor: '#12b9a5'}}>
            <p className="text-slate-700 text-xl leading-relaxed">{definition}</p>
          </div>
          <h3 className="text-xl font-semibold text-purple-700 mb-3">Real Examples:</h3>
          <div className="space-y-3">
            {examples.map((ex, i) => (
              <div key={i} className="flex items-center gap-4 p-4 bg-slate-50 rounded-xl border border-slate-100">
                <span className="text-3xl">{companyLogos[ex.company] || 'üè¢'}</span>
                <span className="font-bold text-lg min-w-28" style={{color: '#092644'}}>{ex.company}</span>
                <span className="text-slate-600 text-lg">{ex.change}</span>
              </div>
            ))}
          </div>
        </div>
      );
    };

    const QuizSlide = ({ title, question, options, correct, explanation, element }) => {
      const [selected, setSelected] = useState(null);
      const [showResult, setShowResult] = useState(false);
      
      const handleSelect = (i) => {
        setSelected(i);
        setShowResult(true);
      };
      
      return (
        <div className="h-full p-6 bg-gradient-to-br from-purple-50 to-teal-50 relative flex flex-col">
          <ElementBadge element={element} />
          <h2 className="text-2xl font-bold text-purple-700 mb-3">{title}</h2>
          <p className="text-slate-700 mb-4 whitespace-pre-line text-xl leading-relaxed">{question}</p>
          <div className="grid grid-cols-2 gap-4 mb-4 flex-1">
            {options.map((opt, i) => (
              <button
                key={i}
                onClick={() => handleSelect(i)}
                className={`p-5 rounded-xl text-left text-lg font-medium transition-all border-2 flex items-center ${
                  showResult
                    ? i === correct
                      ? 'bg-green-100 border-green-500 text-green-800'
                      : selected === i
                      ? 'bg-red-100 border-red-500 text-red-800'
                      : 'bg-white border-slate-200 text-slate-400'
                    : 'bg-white border-slate-200 text-slate-700 hover:border-purple-300 hover:bg-purple-50'
                }`}
              >
                <span className="text-2xl mr-3">{['A', 'B', 'C', 'D'][i]}.</span> {opt}
              </button>
            ))}
          </div>
          {showResult && (
            <div className={`p-4 rounded-xl text-lg ${selected === correct ? 'bg-green-100 text-green-800' : 'bg-amber-100 text-amber-800'}`}>
              {selected === correct ? '‚úÖ Correct! ' : '‚ùå Not quite. '}{explanation}
            </div>
          )}
        </div>
      );
    };

    const TechGridSlide = ({ title, technologies, element }) => (
      <div className="h-full p-6 bg-white relative">
        <ElementBadge element={element} />
        <h2 className="text-2xl font-bold mb-4" style={{color: '#12b9a5'}}>{title}</h2>
        <div className="grid grid-cols-3 gap-4 h-5/6">
          {technologies.map((tech, i) => (
            <div key={i} className="bg-gradient-to-br from-slate-50 to-slate-100 rounded-xl p-4 hover:shadow-lg transition-all group cursor-pointer border border-slate-200 flex flex-col">
              <div className="text-4xl mb-2">{tech.icon}</div>
              <h3 className="font-bold text-lg" style={{color: '#092644'}}>{tech.name}</h3>
              <p className="text-slate-600 text-base mb-2">{tech.desc}</p>
              <p className="text-sm mt-auto pt-2 border-t border-slate-200" style={{color: '#12b9a5'}}><strong>Example:</strong> {tech.example}</p>
            </div>
          ))}
        </div>
      </div>
    );

    const ImpactsSlide = ({ title, areas, element }) => (
      <div className="h-full p-6 bg-white relative">
        <ElementBadge element={element} />
        <h2 className="text-2xl font-bold mb-4" style={{color: '#12b9a5'}}>{title}</h2>
        <div className="grid grid-cols-2 gap-4">
          {areas.map((area, i) => (
            <div key={i} className="bg-slate-50 rounded-xl p-5 border-l-4" style={{ borderLeftColor: area.color }}>
              <div className="flex items-center gap-3 mb-3">
                <span className="text-3xl">{area.icon}</span>
                <h3 className="font-bold text-xl" style={{ color: area.color }}>{area.title}</h3>
              </div>
              <p className="text-green-600 text-base mb-2 flex items-start gap-2"><span>‚úì</span> {area.positive}</p>
              <p className="text-red-500 text-base flex items-start gap-2"><span>‚úó</span> {area.negative}</p>
            </div>
          ))}
        </div>
      </div>
    );

    const SecuritySlide = ({ title, threats, measures, element }) => (
      <div className="h-full p-6 bg-slate-50 relative">
        <ElementBadge element={element} />
        <h2 className="text-xl font-bold text-slate-800 mb-4">{title}</h2>
        <div className="grid grid-cols-2 gap-4">
          <div>
            <h3 className="text-red-600 font-semibold mb-2 text-sm">‚ö†Ô∏è Threats</h3>
            {threats.map((t, i) => (
              <div key={i} className="bg-white rounded-lg p-2 mb-2 border border-red-100">
                <div className="flex items-center gap-2">
                  <span>{t.icon}</span>
                  <span className="font-medium text-sm text-slate-700">{t.name}</span>
                </div>
                <p className="text-slate-500 text-xs mt-1">{t.desc}</p>
              </div>
            ))}
          </div>
          <div>
            <h3 className="text-green-600 font-semibold mb-2 text-sm">üõ°Ô∏è Protection</h3>
            {measures.map((m, i) => (
              <div key={i} className="bg-green-50 rounded-lg p-2 mb-2 flex items-center gap-2 border border-green-100">
                <span className="text-green-500">‚úì</span>
                <span className="text-slate-700 text-sm">{m}</span>
              </div>
            ))}
          </div>
        </div>
      </div>
    );

    const SectionSlide = ({ title, subtitle, intro, icon, stats, element }) => (
      <div className="h-full flex flex-col items-center justify-center text-center p-8 relative" style={{background: 'linear-gradient(135deg, #12b9a5 0%, #092644 100%)'}}>
        <ElementBadge element={element} />
        <span className="text-6xl mb-4">{icon}</span>
        <h2 className="text-4xl font-bold text-white mb-2">{title}</h2>
        <p className="text-xl text-white/90 mb-4">{subtitle}</p>
        {intro && (
          <p className="text-base text-white/80 max-w-2xl mb-6 leading-relaxed">{intro}</p>
        )}
        <div className="flex gap-6">
          {stats.map((s, i) => (
            <div key={i} className="bg-white/20 rounded-xl px-6 py-4">
              <p className="text-3xl font-bold text-white">{s.number}</p>
              <p className="text-white/80 text-sm">{s.label}</p>
            </div>
          ))}
        </div>
      </div>
    );

    const KotterSlide = ({ title, steps, element }) => (
      <div className="h-full p-6 bg-white relative overflow-auto">
        <ElementBadge element={element} />
        <h2 className="text-2xl font-bold mb-4" style={{color: '#12b9a5'}}>{title}</h2>
        <div className="grid grid-cols-4 gap-3">
          {steps.map((s, i) => (
            <div key={i} className="rounded-xl p-4 border" style={{backgroundColor: '#12b9a510', borderColor: '#12b9a530'}}>
              <div className="w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-lg mb-2" style={{backgroundColor: '#12b9a5'}}>{s.num}</div>
              <h3 className="font-bold text-base mb-1" style={{color: '#092644'}}>{s.name}</h3>
              <p className="text-slate-600 text-sm">{s.desc}</p>
            </div>
          ))}
        </div>
      </div>
    );

    const AdkarSlide = ({ title, subtitle, elements, element }) => (
      <div className="h-full p-6 bg-white relative">
        <ElementBadge element={element} />
        <h2 className="text-2xl font-bold text-purple-700 mb-1">{title}</h2>
        <p className="text-slate-600 text-base mb-5">{subtitle}</p>
        <div className="flex gap-3">
          {elements.map((e, i) => (
            <div key={i} className="flex-1 rounded-xl p-4 text-white text-center shadow-lg" style={{ backgroundColor: e.color }}>
              <div className="text-4xl font-bold mb-2">{e.letter}</div>
              <div className="font-semibold text-base mb-1">{e.word}</div>
              <div className="text-white/90 text-sm mt-2">{e.desc}</div>
            </div>
          ))}
        </div>
      </div>
    );

    const LewinSlide = ({ title, stages, element }) => (
      <div className="h-full p-6 bg-slate-50 relative">
        <ElementBadge element={element} />
        <h2 className="text-2xl font-bold text-slate-800 mb-6">{title}</h2>
        <div className="flex items-center justify-center gap-6">
          {stages.map((s, i) => (
            <Fragment key={i}>
              <div className="flex flex-col items-center">
                <div className="w-32 h-32 rounded-full flex items-center justify-center text-5xl mb-3 bg-white shadow-lg" style={{ border: `5px solid ${s.color}` }}>
                  {s.icon}
                </div>
                <h3 className="font-bold text-xl" style={{ color: s.color }}>{s.name}</h3>
                <p className="text-slate-600 text-center text-base mt-2 max-w-36">{s.desc}</p>
              </div>
              {i < stages.length - 1 && <div className="text-5xl text-slate-300">‚Üí</div>}
            </Fragment>
          ))}
        </div>
      </div>
    );

    const RiskMatrixSlide = ({ title, risks, element }) => {
      const getColor = (score) => {
        if (score >= 15) return '#ef4444';
        if (score >= 9) return '#f97316';
        if (score >= 5) return '#eab308';
        return '#22c55e';
      };
      
      return (
        <div className="h-full p-6 bg-white relative">
          <ElementBadge element={element} />
          <h2 className="text-2xl font-bold mb-4" style={{color: '#12b9a5'}}>{title}</h2>
          <div className="overflow-hidden rounded-xl border border-slate-200">
            <table className="w-full">
              <thead className="text-white" style={{backgroundColor: '#12b9a5'}}>
                <tr>
                  <th className="p-3 text-left text-base">‚ö†Ô∏è Risk</th>
                  <th className="p-3 text-center text-base">Likelihood</th>
                  <th className="p-3 text-center text-base">Impact</th>
                  <th className="p-3 text-center text-base">Score</th>
                </tr>
              </thead>
              <tbody>
                {risks.map((r, i) => {
                  const score = r.likelihood * r.impact;
                  return (
                    <tr key={i} className="border-t border-slate-100">
                      <td className="p-3 font-medium text-slate-700 text-base">{r.name}</td>
                      <td className="p-3 text-center text-slate-600 text-lg font-semibold">{r.likelihood}</td>
                      <td className="p-3 text-center text-slate-600 text-lg font-semibold">{r.impact}</td>
                      <td className="p-3 text-center">
                        <span className="px-3 py-1.5 rounded-full text-white text-base font-bold" style={{ backgroundColor: getColor(score) }}>
                          {score}
                        </span>
                      </td>
                    </tr>
                  );
                })}
              </tbody>
            </table>
          </div>
          <div className="flex gap-4 mt-4 justify-center text-sm">
            <span className="flex items-center gap-2"><span className="w-4 h-4 rounded bg-green-500"></span> Low 1-4</span>
            <span className="flex items-center gap-2"><span className="w-4 h-4 rounded bg-yellow-500"></span> Medium 5-8</span>
            <span className="flex items-center gap-2"><span className="w-4 h-4 rounded bg-orange-500"></span> High 9-14</span>
            <span className="flex items-center gap-2"><span className="w-4 h-4 rounded bg-red-500"></span> Critical 15+</span>
          </div>
        </div>
      );
    };

    const StakeholdersSlide = ({ title, groups, element }) => (
      <div className="h-full p-6 bg-white relative">
        <ElementBadge element={element} />
        <h2 className="text-2xl font-bold text-purple-700 mb-4">{title}</h2>
        <div className="grid grid-cols-2 gap-4">
          {groups.map((g, i) => (
            <div key={i} className="bg-slate-50 rounded-xl p-4 border border-slate-100">
              <h3 className="font-bold text-lg mb-2" style={{color: '#12b9a5'}}>{g.name}</h3>
              <p className="text-base text-slate-600 mb-1"><span className="font-semibold">Interest:</span> {g.interest}</p>
              <p className="text-base text-slate-600 mb-1"><span className="font-semibold">Influence:</span> {g.influence}</p>
              <p className="text-base text-purple-600"><span className="font-semibold">Strategy:</span> {g.strategy}</p>
            </div>
          ))}
        </div>
      </div>
    );

    const ForceFieldSlide = ({ title, scenario, driving, restraining, element }) => (
      <div className="h-full p-6 bg-white relative">
        <ElementBadge element={element} />
        <h2 className="text-2xl font-bold text-slate-800 mb-2">{title}</h2>
        <p className="text-slate-600 mb-4 text-base">{scenario}</p>
        <div className="flex gap-4 flex-1">
          <div className="flex-1 bg-green-50 rounded-xl p-4 border border-green-200">
            <h3 className="font-bold text-green-700 mb-3 text-lg text-center">Driving Forces ‚Üí</h3>
            {driving.map((d, i) => (
              <div key={i} className="bg-green-500 text-white p-3 rounded-lg mb-2 text-base text-center font-medium">{d}</div>
            ))}
          </div>
          <div className="w-1 bg-slate-300 rounded"></div>
          <div className="flex-1 bg-red-50 rounded-xl p-4 border border-red-200">
            <h3 className="font-bold text-red-700 mb-3 text-lg text-center">‚Üê Restraining Forces</h3>
            {restraining.map((r, i) => (
              <div key={i} className="bg-red-500 text-white p-3 rounded-lg mb-2 text-base text-center font-medium">{r}</div>
            ))}
          </div>
        </div>
      </div>
    );

    const ProblemSolvingSlide = ({ title, approaches, element }) => {
      const icons = ['üîç', 'üîÑ', 'üí°', 'üìä'];
      return (
        <div className="h-full p-6 bg-slate-50 relative">
          <ElementBadge element={element} />
          <h2 className="text-2xl font-bold mb-4" style={{color: '#12b9a5'}}>{title}</h2>
          <div className="grid grid-cols-2 gap-4">
            {approaches.map((a, i) => (
              <div key={i} className="bg-white rounded-xl p-5 border border-slate-200 shadow-sm">
                <div className="flex items-center gap-3 mb-2">
                  <span className="text-3xl">{icons[i]}</span>
                  <h3 className="font-bold text-purple-700 text-lg">{a.name}</h3>
                </div>
                <p className="text-slate-600 text-base mb-3">{a.desc}</p>
                <span className="px-3 py-1.5 rounded-lg text-sm font-medium" style={{backgroundColor: '#12b9a520', color: '#12b9a5'}}>{a.tool}</span>
              </div>
            ))}
          </div>
        </div>
      );
    };

    const CaseStudySlide = ({ title, timeline, results, element }) => {
      const isGymshark = title.includes('Gymshark');
      const isNetflix = title.includes('Netflix');
      return (
        <div className="h-full p-6 bg-white relative">
          <ElementBadge element={element} />
          <div className="flex items-center gap-4 mb-4">
            <span className="text-5xl">{isGymshark ? 'üí™' : isNetflix ? 'üì∫' : 'üè¢'}</span>
            <h2 className="text-2xl font-bold text-purple-700">{title}</h2>
          </div>
          <div className="flex gap-6 h-4/5">
            <div className="flex-1">
              <h3 className="font-semibold text-slate-700 mb-3 text-lg">Digital Journey</h3>
              {timeline.map((t, i) => (
                <div key={i} className="flex items-start gap-3 mb-3">
                  <span className="bg-purple-600 text-white px-3 py-1 rounded-lg text-sm font-bold min-w-16 text-center">{t.year}</span>
                  <span className="text-slate-700 text-base">{t.event}</span>
                </div>
              ))}
            </div>
            <div className="w-52 rounded-xl p-4 text-white flex flex-col" style={{backgroundColor: '#12b9a5'}}>
              <h3 className="font-bold mb-3 text-lg">üèÜ Results</h3>
              <div className="space-y-2">
                {results.map((r, i) => (
                  <p key={i} className="text-base flex items-start gap-2"><span>‚úì</span> {r}</p>
                ))}
              </div>
            </div>
          </div>
        </div>
      );
    };

    const AISlide = ({ title, points, element }) => (
      <div className="h-full p-6 bg-slate-50 relative">
        <ElementBadge element={element} />
        <h2 className="text-2xl font-bold text-slate-800 mb-4">{title}</h2>
        <div className="grid grid-cols-3 gap-4">
          {points.map((p, i) => (
            <div key={i} className="bg-white rounded-xl p-4 border-t-4 shadow-sm" style={{ borderTopColor: p.color }}>
              <h3 className="font-bold text-slate-700 mb-3 text-lg">{p.title}</h3>
              {p.items.map((item, j) => (
                <p key={j} className="text-slate-600 text-base mb-2">‚Ä¢ {item}</p>
              ))}
            </div>
          ))}
        </div>
      </div>
    );

    const ExamTipsSlide = ({ title, tips, reminder, element }) => (
      <div className="h-full p-6 bg-white relative">
        <ElementBadge element={element} />
        <h2 className="text-2xl font-bold text-purple-700 mb-4">{title}</h2>
        <div className="overflow-hidden rounded-xl border border-slate-200 mb-4">
          <table className="w-full">
            <thead className="bg-purple-500 text-white">
              <tr>
                <th className="p-3 text-left text-base">üìù Command</th>
                <th className="p-3 text-left text-base">Meaning</th>
                <th className="p-3 text-center text-base">Marks</th>
              </tr>
            </thead>
            <tbody>
              {tips.map((t, i) => (
                <tr key={i} className="border-t border-slate-100">
                  <td className="p-3 font-bold text-purple-600 text-lg">{t.command}</td>
                  <td className="p-3 text-slate-600 text-base">{t.meaning}</td>
                  <td className="p-3 text-center text-slate-500 text-base font-semibold">{t.marks}</td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
        <div className="bg-amber-50 border-l-4 border-amber-400 p-4 rounded-r-lg">
          <p className="font-medium text-amber-800 text-lg">üí° {reminder}</p>
        </div>
      </div>
    );

    const SummarySlide = ({ title, points, element }) => (
      <div className="h-full p-6 relative" style={{background: 'linear-gradient(135deg, #12b9a5 0%, #092644 100%)'}}>
        <ElementBadge element={element} />
        <h2 className="text-2xl font-bold text-white mb-4">{title}</h2>
        <div className="space-y-3">
          {points.map((p, i) => (
            <div key={i} className="bg-white/20 backdrop-blur rounded-xl p-4 flex items-start gap-4">
              <span className="bg-white w-8 h-8 rounded-full flex items-center justify-center text-base font-bold flex-shrink-0" style={{color: '#12b9a5'}}>{i + 1}</span>
              <p className="text-white text-lg">{p}</p>
            </div>
          ))}
        </div>
      </div>
    );

    const VideoSlide = ({ title, videoId, description, timestamps, discussion, element }) => {
      const youtubeUrl = `https://www.youtube.com/watch?v=${videoId}`;
      const thumbnailUrl = `https://img.youtube.com/vi/${videoId}/maxresdefault.jpg`;
      
      return (
        <div className="h-full p-6 bg-white flex flex-col relative">
          <ElementBadge element={element} />
          <h2 className="text-2xl font-bold text-slate-800 mb-2">{title}</h2>
          {description && <p className="text-slate-600 text-lg mb-3">{description}</p>}
          
          <div className="flex gap-4 flex-1">
            {/* Video thumbnail - larger when no timestamps */}
            <div className={`${timestamps ? 'w-2/3' : 'w-full'} flex items-center justify-center bg-slate-900 rounded-xl relative overflow-hidden`}>
              <div 
                className="absolute inset-0 bg-cover bg-center opacity-60"
                style={{ backgroundImage: `url(${thumbnailUrl})` }}
              />
              <a 
                href={youtubeUrl}
                target="_blank"
                rel="noopener noreferrer"
                className="relative z-10 flex flex-col items-center gap-3 p-6 bg-black/50 rounded-2xl hover:bg-black/70 transition-all group"
              >
                <div className="w-20 h-20 bg-red-600 rounded-full flex items-center justify-center group-hover:bg-red-500 group-hover:scale-110 transition-all shadow-lg">
                  <svg className="w-10 h-10 text-white ml-1" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M8 5v14l11-7z"/>
                  </svg>
                </div>
                <span className="text-white font-semibold text-lg">Watch on YouTube</span>
                <span className="text-white/70 text-xs">Opens in new tab</span>
              </a>
            </div>
            
            {/* Timestamps panel - only if timestamps provided */}
            {timestamps && (
              <div className="w-1/3 bg-teal-50 rounded-xl p-4 border border-teal-200">
                <h3 className="font-bold text-teal-700 mb-3 text-sm">üìã Watch for these sections:</h3>
                <div className="space-y-2">
                  {timestamps.map((ts, i) => (
                    <div key={i} className="bg-white p-2 rounded-lg text-xs text-slate-700 border border-teal-100">
                      {ts}
                    </div>
                  ))}
                </div>
              </div>
            )}
          </div>
          
          {discussion && (
            <div className="mt-3 bg-purple-50 rounded-xl p-3 border border-purple-100">
              <p className="text-purple-700 text-base">üí≠ <span className="font-medium">Task:</span> {discussion}</p>
            </div>
          )}
        </div>
      );
    };

    // Activity Slide Component with save functionality
    const ActivitySlide = ({ activityId, title, time, instructions, fields, businesses, element, savedData, onSave }) => {
      const [formData, setFormData] = useState(savedData || {});
      
      const handleChange = (fieldId, value) => {
        const newData = { ...formData, [fieldId]: value };
        setFormData(newData);
        onSave(activityId, newData);
      };
      
      return (
        <div className="h-full p-5 bg-white relative overflow-auto">
          <ElementBadge element={element} />
          <div className="flex items-center gap-3 mb-4">
            <h2 className="text-2xl font-bold" style={{color: '#12b9a5'}}>{title}</h2>
            <span className="bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm font-medium">{time}</span>
          </div>
          <div className="border-l-4 p-4 rounded-r-lg mb-4" style={{backgroundColor: '#12b9a510', borderColor: '#12b9a5'}}>
            <p className="text-slate-700 whitespace-pre-line text-base">{instructions}</p>
            {businesses && <p className="mt-2 font-semibold text-base" style={{color: '#12b9a5'}}>Choose from: {businesses.join(' ‚Ä¢ ')}</p>}
          </div>
          <div className="space-y-4">
            {fields.map((field) => (
              <div key={field.id}>
                <label className="block text-base font-medium text-slate-700 mb-2">{field.label}</label>
                {field.type === 'textarea' ? (
                  <textarea
                    className="w-full p-3 border border-slate-200 rounded-lg text-base focus:ring-2 focus:border-transparent"
                    style={{'--tw-ring-color': '#12b9a5'}}
                    rows={3}
                    placeholder={field.placeholder}
                    value={formData[field.id] || ''}
                    onChange={(e) => handleChange(field.id, e.target.value)}
                  />
                ) : (
                  <input
                    type="text"
                    className="w-full p-3 border border-slate-200 rounded-lg text-base focus:ring-2 focus:border-transparent"
                    style={{'--tw-ring-color': '#12b9a5'}}
                    placeholder={field.placeholder}
                    value={formData[field.id] || ''}
                    onChange={(e) => handleChange(field.id, e.target.value)}
                  />
                )}
              </div>
            ))}
          </div>
          <p className="mt-4 text-sm text-green-600 font-medium">‚úì Your work is saved automatically</p>
        </div>
      );
    };

    // Challenge Activity Slide
    const ChallengeSlide = ({ activityId, title, time, instructions, fields, criteria, element, savedData, onSave }) => {
      const [formData, setFormData] = useState(savedData || {});
      
      const handleChange = (fieldId, value) => {
        const newData = { ...formData, [fieldId]: value };
        setFormData(newData);
        onSave(activityId, newData);
      };
      
      return (
        <div className="h-full p-5 bg-slate-50 relative overflow-auto">
          <ElementBadge element={element} />
          <div className="text-white p-4 rounded-xl mb-4" style={{background: 'linear-gradient(90deg, #7c3aed 0%, #12b9a5 100%)'}}>
            <div className="flex items-center justify-between">
              <h2 className="text-2xl font-bold">{title}</h2>
              <span className="bg-white/20 px-3 py-1 rounded-full text-sm font-medium">{time}</span>
            </div>
          </div>
          <div className="bg-white border border-slate-200 p-4 rounded-lg mb-4">
            <p className="text-slate-700 whitespace-pre-line text-base">{instructions}</p>
          </div>
          <div className="grid grid-cols-3 gap-3 mb-4">
            <div className="bg-amber-50 p-3 rounded-lg border border-amber-200">
              <span className="font-bold text-amber-700 text-base">Pass:</span>
              <p className="text-amber-600 text-sm mt-1">{criteria.pass}</p>
            </div>
            <div className="bg-slate-100 p-3 rounded-lg border border-slate-300">
              <span className="font-bold text-slate-700 text-base">Merit:</span>
              <p className="text-slate-600 text-sm mt-1">{criteria.merit}</p>
            </div>
            <div className="bg-purple-50 p-3 rounded-lg border border-purple-200">
              <span className="font-bold text-purple-700 text-base">Distinction:</span>
              <p className="text-purple-600 text-sm mt-1">{criteria.distinction}</p>
            </div>
          </div>
          <div className="space-y-3">
            {fields.map((field) => (
              <div key={field.id}>
                <label className="block text-base font-medium text-slate-700 mb-2">{field.label}</label>
                <textarea
                  className="w-full p-3 border border-slate-200 rounded-lg text-base focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                  rows={3}
                  value={formData[field.id] || ''}
                  onChange={(e) => handleChange(field.id, e.target.value)}
                />
              </div>
            ))}
          </div>
          <p className="mt-4 text-sm text-green-600 font-medium">‚úì Your work is saved automatically</p>
        </div>
      );
    };

    // Completion Slide
    const CompletionSlide = ({ title, message, progress, completionCode }) => (
      <div className="h-full flex flex-col items-center justify-center text-center p-8" style={{background: 'linear-gradient(135deg, #12b9a5 0%, #092644 100%)'}}>
        <div className="text-7xl mb-4">üéâ</div>
        <h2 className="text-3xl font-bold text-white mb-2">{title}</h2>
        <p className="text-lg text-white/90 mb-6">{message}</p>
        
        <div className="bg-white/20 backdrop-blur rounded-xl p-4 mb-6 w-full max-w-md">
          <p className="text-white/80 text-sm mb-2">Your Progress</p>
          <div className="flex justify-around text-white">
            <div><span className="text-2xl font-bold">{progress.quizzes}</span><p className="text-xs">Quizzes</p></div>
            <div><span className="text-2xl font-bold">{progress.activities}</span><p className="text-xs">Activities</p></div>
            <div><span className="text-2xl font-bold">{progress.slides}</span><p className="text-xs">Slides</p></div>
          </div>
        </div>
        
        <div className="bg-white rounded-xl p-4 shadow-lg">
          <p className="text-slate-500 text-xs mb-1">Your Completion Code</p>
          <p className="text-2xl font-mono font-bold text-teal-600">{completionCode}</p>
          <p className="text-slate-400 text-xs mt-2">Screenshot this to prove completion!</p>
        </div>
      </div>
    );

    // Slide Router
    const SlideContent = ({ slide, savedData, onSave, progress, completionCode }) => {
      const props = { ...slide, savedData: savedData?.[slide.activityId], onSave };
      
      switch (slide.type) {
        case 'title': return <TitleSlide content={slide.content} />;
        case 'objectives': return <ObjectivesSlide {...slide} />;
        case 'definition': return <DefinitionSlide {...slide} />;
        case 'quiz': return <QuizSlide {...slide} />;
        case 'techgrid': return <TechGridSlide {...slide} />;
        case 'impacts': return <ImpactsSlide {...slide} />;
        case 'security': return <SecuritySlide {...slide} />;
        case 'section': return <SectionSlide {...slide} />;
        case 'kotter': return <KotterSlide {...slide} />;
        case 'adkar': return <AdkarSlide {...slide} />;
        case 'lewin': return <LewinSlide {...slide} />;
        case 'riskmatrix': return <RiskMatrixSlide {...slide} />;
        case 'stakeholders': return <StakeholdersSlide {...slide} />;
        case 'forcefield': return <ForceFieldSlide {...slide} />;
        case 'problemsolving': return <ProblemSolvingSlide {...slide} />;
        case 'casestudy': return <CaseStudySlide {...slide} />;
        case 'ai': return <AISlide {...slide} />;
        case 'examtips': return <ExamTipsSlide {...slide} />;
        case 'summary': return <SummarySlide {...slide} />;
        case 'video': return <VideoSlide {...slide} />;
        case 'activity': return <ActivitySlide {...props} />;
        case 'challenge': return <ChallengeSlide {...props} />;
        case 'completion': return <CompletionSlide {...slide} progress={progress} completionCode={completionCode} />;
        default: return null;
      }
    };

    // Main App
    function App() {
      const [currentSlide, setCurrentSlide] = useState(0);
      const [savedData, setSavedData] = useState({});
      const [visitedSlides, setVisitedSlides] = useState(new Set([0]));
      
      // Load progress on mount
      useEffect(() => {
        const saved = loadProgress();
        if (saved.currentSlide) setCurrentSlide(saved.currentSlide);
        if (saved.savedData) setSavedData(saved.savedData);
        if (saved.visitedSlides) setVisitedSlides(new Set(saved.visitedSlides));
      }, []);
      
      // Save progress on change
      useEffect(() => {
        saveProgress({ currentSlide, savedData, visitedSlides: [...visitedSlides] });
      }, [currentSlide, savedData, visitedSlides]);
      
      // Track visited slides
      useEffect(() => {
        setVisitedSlides(prev => new Set([...prev, currentSlide]));
      }, [currentSlide]);
      
      // Keyboard navigation
      useEffect(() => {
        const handleKey = (e) => {
          if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;
          if (e.key === 'ArrowRight' || e.key === ' ') setCurrentSlide(s => Math.min(s + 1, slides.length - 1));
          if (e.key === 'ArrowLeft') setCurrentSlide(s => Math.max(s - 1, 0));
        };
        window.addEventListener('keydown', handleKey);
        return () => window.removeEventListener('keydown', handleKey);
      }, []);
      
      const handleSaveActivity = (activityId, data) => {
        if (activityId === 'studentName') {
          setSavedData(prev => ({ ...prev, studentName: data }));
        } else {
          setSavedData(prev => ({ ...prev, [activityId]: data }));
        }
      };
      
      // Calculate progress
      const quizCount = slides.filter(s => s.type === 'quiz').length;
      const activityCount = slides.filter(s => s.type === 'activity' || s.type === 'challenge').length;
      const completedActivities = Object.keys(savedData).filter(k => k !== 'studentName').length;
      
      // Generate completion code
      const generateCode = () => {
        const date = new Date().toISOString().slice(0, 10).replace(/-/g, '');
        const random = Math.random().toString(36).substring(2, 6).toUpperCase();
        return `DT-${date}-${random}`;
      };
      const [completionCode] = useState(generateCode());
      
      const progress = {
        quizzes: quizCount,
        activities: `${completedActivities}/${activityCount}`,
        slides: `${visitedSlides.size}/${slides.length}`
      };

      // Export/Download function
      const handleExport = () => {
        // Check if student has entered their name
        if (!savedData.studentName || !savedData.studentName.trim()) {
          alert('Please enter your name in the top right corner before downloading your work.');
          return;
        }
        
        const activitySlides = slides.filter(s => s.type === 'activity' || s.type === 'challenge');
        
        const htmlContent = `
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="UTF-8">
      <title>TW17 Digital Transformation - My Work</title>
      <style>
        * { box-sizing: border-box; }
        body { 
          font-family: Arial, sans-serif; 
          max-width: 800px; 
          margin: 0 auto; 
          padding: 40px 20px;
          color: #334155;
          line-height: 1.6;
        }
        .header {
          background: linear-gradient(135deg, #14b8a6, #8b5cf6);
          color: white;
          padding: 30px;
          border-radius: 12px;
          margin-bottom: 30px;
          text-align: center;
        }
        .header h1 { margin: 0 0 10px 0; font-size: 28px; }
        .header p { margin: 0; opacity: 0.9; }
        .meta-box {
          background: #f8fafc;
          border: 1px solid #e2e8f0;
          border-radius: 8px;
          padding: 20px;
          margin-bottom: 30px;
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 15px;
        }
        .meta-box label { font-size: 12px; color: #64748b; display: block; margin-bottom: 4px; }
        .meta-box .value { font-weight: 600; color: #0f172a; }
        .completion-code {
          background: #14b8a6;
          color: white;
          padding: 15px;
          border-radius: 8px;
          text-align: center;
          font-family: monospace;
          font-size: 24px;
          letter-spacing: 2px;
          margin-bottom: 30px;
        }
        .completion-code small { display: block; font-size: 11px; opacity: 0.8; margin-top: 5px; font-family: Arial; letter-spacing: 0; }
        .activity {
          background: white;
          border: 1px solid #e2e8f0;
          border-radius: 12px;
          margin-bottom: 25px;
          overflow: hidden;
          page-break-inside: avoid;
        }
        .activity-header {
          background: #f1f5f9;
          padding: 15px 20px;
          border-bottom: 1px solid #e2e8f0;
        }
        .activity-header h2 { margin: 0; font-size: 16px; color: #0f766e; }
        .activity-header .element { font-size: 12px; color: #8b5cf6; margin-top: 4px; }
        .activity-body { padding: 20px; }
        .field { margin-bottom: 20px; }
        .field:last-child { margin-bottom: 0; }
        .field label { 
          display: block; 
          font-size: 13px; 
          font-weight: 600; 
          color: #475569; 
          margin-bottom: 8px;
          border-left: 3px solid #14b8a6;
          padding-left: 10px;
        }
        .field .answer {
          background: #f8fafc;
          border: 1px solid #e2e8f0;
          border-radius: 6px;
          padding: 12px 15px;
          min-height: 60px;
          white-space: pre-wrap;
          font-size: 14px;
        }
        .field .empty {
          color: #94a3b8;
          font-style: italic;
        }
        .summary-stats {
          display: grid;
          grid-template-columns: repeat(3, 1fr);
          gap: 15px;
          margin-bottom: 30px;
        }
        .stat {
          background: #f8fafc;
          border: 1px solid #e2e8f0;
          border-radius: 8px;
          padding: 20px;
          text-align: center;
        }
        .stat .number { font-size: 32px; font-weight: 700; color: #14b8a6; }
        .stat .label { font-size: 12px; color: #64748b; margin-top: 5px; }
        .footer {
          text-align: center;
          padding: 30px;
          color: #94a3b8;
          font-size: 12px;
          border-top: 1px solid #e2e8f0;
          margin-top: 40px;
        }
        .print-btn {
          position: fixed;
          top: 20px;
          right: 20px;
          background: #14b8a6;
          color: white;
          border: none;
          padding: 12px 24px;
          border-radius: 8px;
          cursor: pointer;
          font-size: 14px;
          font-weight: 600;
          box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        }
        .print-btn:hover { background: #0d9488; }
        .print-instructions {
          background: #fef3c7;
          border: 1px solid #f59e0b;
          border-radius: 8px;
          padding: 15px;
          margin-bottom: 25px;
          font-size: 13px;
          color: #92400e;
        }
        @media print {
          body { padding: 20px; }
          .activity { break-inside: avoid; }
          .header { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
          .completion-code { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
          .print-btn { display: none; }
          .print-instructions { display: none; }
        }
      </style>
    </head>
    <body>
      <button class="print-btn" onclick="window.print()">üñ®Ô∏è Print / Save as PDF</button>
      
      <div class="header">
        <h1>Digital Transformation</h1>
        <p>Teaching Week 17 ‚Ä¢ T-Level Management & Administration</p>
      </div>

      <div class="meta-box">
        <div>
          <label>Student Name</label>
          <div class="value">${savedData.studentName || '___________________'}</div>
        </div>
        <div>
          <label>Date Completed</label>
          <div class="value">${new Date().toLocaleDateString('en-GB', { day: 'numeric', month: 'long', year: 'numeric' })}</div>
        </div>
        <div>
          <label>Slides Viewed</label>
          <div class="value">${visitedSlides.size} / ${slides.length}</div>
        </div>
        <div>
          <label>Activities Completed</label>
          <div class="value">${completedActivities} / ${activityCount}</div>
        </div>
      </div>

      <div class="completion-code">
        ${completionCode}
        <small>Completion Code - Screenshot or save this!</small>
      </div>

      <div class="print-instructions">
        üí° <strong>To save as PDF:</strong> Click "Print / Save as PDF" button above ‚Üí Choose "Save as PDF" as your printer ‚Üí Click Save
      </div>

      <div class="summary-stats">
        <div class="stat">
          <div class="number">${quizCount}</div>
          <div class="label">Quizzes Completed</div>
        </div>
        <div class="stat">
          <div class="number">${completedActivities}</div>
          <div class="label">Activities Submitted</div>
        </div>
        <div class="stat">
          <div class="number">${visitedSlides.size}</div>
          <div class="label">Slides Viewed</div>
        </div>
      </div>

      <h2 style="color: #0f766e; border-bottom: 2px solid #14b8a6; padding-bottom: 10px; margin-bottom: 25px;">My Work</h2>

      ${activitySlides.map(activity => {
        const data = savedData[activity.activityId] || {};
        const hasAnyData = Object.values(data).some(v => v && v.trim());
        
        return `
        <div class="activity">
          <div class="activity-header">
            <h2>${activity.title}</h2>
            <div class="element">Element ${activity.element?.code || ''}: ${activity.element?.title || ''}</div>
          </div>
          <div class="activity-body">
            ${activity.fields.map(field => `
              <div class="field">
                <label>${field.label}</label>
                <div class="answer ${!data[field.id] ? 'empty' : ''}">
                  ${data[field.id] || 'Not completed'}
                </div>
              </div>
            `).join('')}
          </div>
        </div>
        `;
      }).join('')}

      <div class="footer">
        <p>T-Level Management & Administration ‚Ä¢ Nottingham College</p>
        <p>Week 17: Digital Transformation ‚Ä¢ Elements: 1.9, 3.3, 6.2, 6.3, 6.4, 7.4</p>
        <p>Generated: ${new Date().toLocaleString('en-GB')}</p>
      </div>
    </body>
    </html>
        `;

        // Open in new tab for printing/saving as PDF
        const printWindow = window.open('', '_blank');
        printWindow.document.write(htmlContent);
        printWindow.document.close();
        
        // Auto-trigger print dialog after a brief delay
        setTimeout(() => {
          printWindow.print();
        }, 500);
      };
      
      return (
        <div className="w-full h-screen bg-slate-100 flex flex-col">
          {/* Header with logos and student name */}
          <div className="flex items-center justify-between px-4 py-2 bg-white border-b border-slate-200">
            <div className="flex items-center gap-4">
              {/* Nottingham College Logo */}
              <img 
                src="data:image/jpeg;base64,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" 
                alt="Nottingham College" 
                className="h-8 w-auto"
              />
              {/* T-Level Logo */}
              <img 
                src="data:image/jpeg;base64,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" 
                alt="T-Levels" 
                className="h-7 w-auto"
              />
              <span className="text-slate-400">|</span>
              <span className="font-bold" style={{color: '#12b9a5'}}>TW17</span>
              <span style={{color: '#092644'}}>Digital Transformation</span>
            </div>
            <div className="flex items-center gap-2">
              <label className="text-slate-500 text-sm">Your Name:</label>
              <input
                type="text"
                placeholder="Enter your name"
                value={savedData.studentName || ''}
                onChange={(e) => handleSaveActivity('studentName', e.target.value)}
                className="px-3 py-1.5 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:border-transparent w-44"
                style={{'--tw-ring-color': '#12b9a5'}}
              />
            </div>
          </div>

          {/* Progress bar */}
          <div className="h-1.5 bg-slate-200">
            <div 
              className="h-full transition-all duration-300"
              style={{ 
                width: `${((currentSlide + 1) / slides.length) * 100}%`,
                background: 'linear-gradient(90deg, #12b9a5 0%, #092644 100%)'
              }}
            />
          </div>
          
          {/* Slide */}
          <div className="flex-1 flex items-center justify-center p-4">
            <div className="w-full max-w-4xl aspect-video bg-white rounded-2xl shadow-xl overflow-hidden">
              <SlideContent 
                key={currentSlide}
                slide={slides[currentSlide]} 
                savedData={savedData}
                onSave={handleSaveActivity}
                progress={progress}
                completionCode={completionCode}
              />
            </div>
          </div>
          
          {/* Navigation */}
          <div className="flex items-center justify-center gap-4 pb-3">
            <button 
              onClick={() => setCurrentSlide(s => Math.max(s - 1, 0))}
              disabled={currentSlide === 0}
              className="px-4 py-2 bg-white text-slate-600 rounded-lg disabled:opacity-30 hover:bg-slate-50 transition-colors shadow-sm border border-slate-200"
            >
              ‚Üê Previous
            </button>
            <span className="text-slate-600 px-4 text-sm">
              {currentSlide + 1} / {slides.length}
            </span>
            <button 
              onClick={() => setCurrentSlide(s => Math.min(s + 1, slides.length - 1))}
              disabled={currentSlide === slides.length - 1}
              className="px-4 py-2 bg-teal-500 text-white rounded-lg disabled:opacity-30 hover:bg-teal-600 transition-colors shadow-sm"
            >
              Next ‚Üí
            </button>
            <button 
              onClick={handleExport}
              className="px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors shadow-sm flex items-center gap-2"
            >
              <span>üì•</span> Download My Work
            </button>
            <button 
              onClick={() => {
                if (window.confirm('Are you sure? This will delete all your saved work and progress.')) {
                  localStorage.removeItem(STORAGE_KEY);
                  setSavedData({});
                  setVisitedSlides(new Set([0]));
                  setCurrentSlide(0);
                }
              }}
              className="px-3 py-2 bg-slate-200 text-slate-600 rounded-lg hover:bg-slate-300 transition-colors text-sm"
              title="Reset all progress"
            >
              üîÑ Reset
            </button>
          </div>
          
          {/* Slide dots */}
          <div className="flex justify-center gap-1 pb-3 overflow-x-auto px-4">
            {slides.map((s, i) => (
              <button
                key={i}
                onClick={() => setCurrentSlide(i)}
                className={`w-2 h-2 rounded-full transition-all ${
                  i === currentSlide 
                    ? 'bg-teal-500 w-6' 
                    : visitedSlides.has(i)
                    ? 'bg-teal-300 hover:bg-teal-400'
                    : 'bg-slate-300 hover:bg-slate-400'
                }`}
                title={s.element?.code ? `${s.element.code}: ${s.element.title}` : 'Title'}
              />
            ))}
          </div>
        </div>
      );
    }

    // Render the app
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>
